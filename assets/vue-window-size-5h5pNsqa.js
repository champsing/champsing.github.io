var g=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)};var s=(t,e,i)=>(g(t,e,"read from private field"),i?i.call(t):e.get(t)),h=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},w=(t,e,i,o)=>(g(t,e,"write to private field"),o?o.call(t,i):e.set(t,i),i);var u=(t,e,i)=>(g(t,e,"access private method"),i);import{l as W,L as k,k as y}from"./@vue-389RoTGc.js";var E=typeof window<"u",C=()=>E?window.innerWidth:0,D=()=>E?window.innerHeight:0,N=t=>t??C(),S=t=>t??D(),U=t=>({width:N(t==null?void 0:t.width),height:S(t==null?void 0:t.height)}),j=t=>{let e=0,i=t(),o=W(U()),z=({width:H,height:M})=>{o.width=H,o.height=M};i.addObserver("composition-api",z);let T=()=>{++e},x=()=>{e=Math.max(e-1,0)};return()=>(e===0&&i.subscribe().dispatch(),T(),k(()=>{x(),e===0&&i.unsubscribe()}),{width:y(()=>o.width),height:y(()=>o.height)})},r,a,b,n,d,c,p,v,f,l,L,O,q=(O=class{constructor(t){h(this,c);h(this,v);h(this,l);h(this,r,new Map);h(this,a,void 0);h(this,b,void 0);h(this,n,!1);h(this,d,void 0);let{delay:e=33}=t??{};w(this,a,e),w(this,d,u(this,l,L).bind(this))}addObserver(t,e){return s(this,r).set(t,e),e(u(this,c,p).call(this)),this}deleteObserver(t){return s(this,r).delete(t),this}deleteObservers(){return s(this,r).clear(),this}notifyObservers(t){return s(this,r).forEach(e=>{e(t)}),this}subscribe(){return typeof window>"u"?this:s(this,n)?this:(window.addEventListener("resize",s(this,d)),window.addEventListener("orientationchange",s(this,d)),w(this,n,!0),this)}unsubscribe(){return s(this,n)?(window.removeEventListener("resize",s(this,d)),window.removeEventListener("orientationchange",s(this,d)),w(this,n,!1),this):this}setDelay(t){return w(this,a,t),this}info(){return{delay:s(this,a),subscribed:s(this,n),observersCount:s(this,r).size}}dispatch(){return u(this,v,f).call(this),this}},r=new WeakMap,a=new WeakMap,b=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakSet,p=function(){return typeof window>"u"?{width:0,height:0}:{width:window.innerWidth,height:window.innerHeight}},v=new WeakSet,f=function(){let t=u(this,c,p).call(this);this.notifyObservers(t)},l=new WeakSet,L=function(){clearTimeout(s(this,b)),window.setTimeout(()=>{},1),w(this,b,window.setTimeout(()=>{u(this,v,f).call(this)},s(this,a)))},O),m,A=()=>(m||(m=new q),m),G=j(A);export{G as N};
