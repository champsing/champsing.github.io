import{o as C,n as _,u as $,g as D,t as j,r as I,c as T,a as p,b as N,d as P,w as y,e as O,f as U,h as Y,j as G}from"./@vue-DhGwsKvg.js";function b(e){return N()?(P(e),!0):!1}function m(e){return typeof e=="function"?e():$(e)}const M=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const H=e=>e!=null,X=Object.prototype.toString,x=e=>X.call(e)==="[object Object]",k=()=>{},L=F();function F(){var e,t;return M&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function V(e){return D()}function q(...e){if(e.length!==1)return j(...e);const t=e[0];return typeof t=="function"?I(T(()=>({get:t,set:k}))):p(t)}function J(e,t=!0,n){V()?C(e,n):t?e():_(e)}function g(e){var t;const n=m(e);return(t=n==null?void 0:n.$el)!=null?t:n}const W=M?window:void 0;function R(...e){let t,n,o,c;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,c]=e,t=W):[t,n,o,c]=e,!t)return k;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],f=()=>{r.forEach(i=>i()),r.length=0},s=(i,u,l,d)=>(i.addEventListener(u,l,d),()=>i.removeEventListener(u,l,d)),v=y(()=>[g(t),m(c)],([i,u])=>{if(f(),!i)return;const l=x(u)?{...u}:u;r.push(...n.flatMap(d=>o.map(w=>s(i,d,w,l))))},{immediate:!0,flush:"post"}),a=()=>{v(),f()};return b(a),a}function K(){const e=p(!1),t=D();return t&&C(()=>{e.value=!0},t),e}function z(e){const t=K();return O(()=>(t.value,!!e()))}function Q(e,t,n={}){const{window:o=W,...c}=n;let r;const f=z(()=>o&&"MutationObserver"in o),s=()=>{r&&(r.disconnect(),r=void 0)},v=O(()=>{const l=m(e),d=(Array.isArray(l)?l:[l]).map(g).filter(H);return new Set(d)}),a=y(()=>v.value,l=>{s(),f.value&&l.size&&(r=new MutationObserver(t),l.forEach(d=>r.observe(d,c)))},{immediate:!0,flush:"post"}),i=()=>r==null?void 0:r.takeRecords(),u=()=>{s(),a()};return b(u),{isSupported:f,stop:u,takeRecords:i}}function Z(e,t,n={}){const{window:o=W,...c}=n;let r;const f=z(()=>o&&"ResizeObserver"in o),s=()=>{r&&(r.disconnect(),r=void 0)},v=O(()=>Array.isArray(e)?e.map(u=>g(u)):[g(e)]),a=y(v,u=>{if(s(),f.value&&o){r=new ResizeObserver(t);for(const l of u)l&&r.observe(l,c)}},{immediate:!0,flush:"post"}),i=()=>{s(),a()};return b(i),{isSupported:f,stop:i}}function ee(e,t={}){const{reset:n=!0,windowResize:o=!0,windowScroll:c=!0,immediate:r=!0}=t,f=p(0),s=p(0),v=p(0),a=p(0),i=p(0),u=p(0),l=p(0),d=p(0);function w(){const A=g(e);if(!A){n&&(f.value=0,s.value=0,v.value=0,a.value=0,i.value=0,u.value=0,l.value=0,d.value=0);return}const h=A.getBoundingClientRect();f.value=h.height,s.value=h.bottom,v.value=h.left,a.value=h.right,i.value=h.top,u.value=h.width,l.value=h.x,d.value=h.y}return Z(e,w),y(()=>g(e),A=>!A&&w()),Q(e,w,{attributeFilter:["style","class"]}),c&&R("scroll",w,{capture:!0,passive:!0}),o&&R("resize",w,{passive:!0}),J(()=>{r&&w()}),{height:f,bottom:s,left:v,right:a,top:i,width:u,x:l,y:d,update:w}}function te(e){var t;const n=m(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ne=M?window:void 0;function oe(...e){let t,n,o,c;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,c]=e,t=ne):[t,n,o,c]=e,!t)return k;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],f=()=>{r.forEach(i=>i()),r.length=0},s=(i,u,l,d)=>(i.addEventListener(u,l,d),()=>i.removeEventListener(u,l,d)),v=y(()=>[te(t),m(c)],([i,u])=>{if(f(),!i)return;const l=x(u)?{...u}:u;r.push(...n.flatMap(d=>o.map(w=>s(i,d,w,l))))},{immediate:!0,flush:"post"}),a=()=>{v(),f()};return b(a),a}const le=U({name:"UseElementBounding",props:["box","as"],setup(e,{slots:t}){const n=p(),o=Y(ee(n));return()=>{if(t.default)return G(e.as||"div",{ref:n},t.default(o))}}});function S(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function B(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:B(n)}}function re(e){const t=e||window.event,n=t.target;return B(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const E=new WeakMap;function se(e,t=!1){const n=p(t);let o=null,c="";y(q(e),s=>{const v=S(m(s));if(v){const a=v;if(E.get(a)||E.set(a,a.style.overflow),a.style.overflow!=="hidden"&&(c=a.style.overflow),a.style.overflow==="hidden")return n.value=!0;if(n.value)return a.style.overflow="hidden"}},{immediate:!0});const r=()=>{const s=S(m(e));!s||n.value||(L&&(o=oe(s,"touchmove",v=>{re(v)},{passive:!1})),s.style.overflow="hidden",n.value=!0)},f=()=>{const s=S(m(e));!s||!n.value||(L&&(o==null||o()),s.style.overflow=c,E.delete(s),n.value=!1)};return b(f),O({get(){return n.value},set(s){s?r():f()}})}function ie(){let e=!1;const t=p(!1);return(n,o)=>{if(t.value=o.value,e)return;e=!0;const c=se(n,o.value);y(t,r=>c.value=r)}}ie();export{le as U,ee as u};
