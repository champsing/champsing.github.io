import{r as c,B as d,w as R,h as m,y as L,o as H,b as y,e as B,D as S}from"./@vue-Ct7svYva.js";import{o as k,a as b}from"./evtd-CI_DDEu_.js";function Y(e){const n=c(!!e.value);if(n.value)return d(n);const t=R(e,o=>{o&&(n.value=!0,t())});return d(n)}function K(e){const n=m(e),t=c(n.value);return R(n,o=>{t.value=o}),typeof e=="function"?t:{__v_isRef:!0,get value(){return t.value},set value(o){e.set(o)}}}function P(){return L()!==null}const C=typeof window<"u";let v,w;const j=()=>{var e,n;v=C?(n=(e=document)===null||e===void 0?void 0:e.fonts)===null||n===void 0?void 0:n.ready:void 0,w=!1,v!==void 0?v.then(()=>{w=!0}):w=!0};j();function Q(e){if(w)return;let n=!1;H(()=>{w||v==null||v.then(()=>{n||e()})}),y(()=>{n=!0})}const h=c(null);function T(e){if(e.clientX>0||e.clientY>0)h.value={x:e.clientX,y:e.clientY};else{const{target:n}=e;if(n instanceof Element){const{left:t,top:o,width:i,height:a}=n.getBoundingClientRect();t>0||o>0?h.value={x:t+i/2,y:o+a/2}:h.value={x:0,y:0}}else h.value=null}}let g=0,I=!0;function z(){if(!C)return d(c(null));g===0&&k("click",document,T,!0);const e=()=>{g+=1};return I&&(I=P())?(B(e),y(()=>{g-=1,g===0&&b("click",document,T,!0)})):e(),d(h)}const q=c(void 0);let M=0;function _(){q.value=Date.now()}let D=!0;function A(e){if(!C)return d(c(!1));const n=c(!1);let t=null;function o(){t!==null&&window.clearTimeout(t)}function i(){o(),n.value=!0,t=window.setTimeout(()=>{n.value=!1},e)}M===0&&k("click",window,_,!0);const a=()=>{M+=1,k("click",window,i,!0)};return D&&(D=P())?(B(a),y(()=>{M-=1,M===0&&b("click",window,_,!0),b("click",window,i,!0),o()})):a(),d(n)}function G(e,n){return R(e,t=>{t!==void 0&&(n.value=t)}),m(()=>e.value===void 0?n.value:e.value)}function J(){const e=c(!1);return H(()=>{e.value=!0}),d(e)}function O(e,n){return m(()=>{for(const t of n)if(e[t]!==void 0)return e[t];return e[n[n.length-1]]})}const F=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function W(){return F}const $={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function U(e){return`(min-width: ${e}px)`}const p={};function Z(e=$){if(!C)return m(()=>[]);if(typeof window.matchMedia!="function")return m(()=>[]);const n=c({}),t=Object.keys(e),o=(i,a)=>{i.matches?n.value[a]=!0:n.value[a]=!1};return t.forEach(i=>{const a=e[i];let s,r;p[a]===void 0?(s=window.matchMedia(U(a)),s.addEventListener?s.addEventListener("change",u=>{r.forEach(l=>{l(u,i)})}):s.addListener&&s.addListener(u=>{r.forEach(l=>{l(u,i)})}),r=new Set,p[a]={mql:s,cbs:r}):(s=p[a].mql,r=p[a].cbs),r.add(o),s.matches&&r.forEach(u=>{u(s,i)})}),y(()=>{t.forEach(i=>{const{cbs:a}=p[e[i]];a.has(o)&&a.delete(o)})}),m(()=>{const{value:i}=n;return t.filter(a=>i[a])})}function N(e={},n){const t=S({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:o,keyup:i}=e,a=u=>{switch(u.key){case"Control":t.ctrl=!0;break;case"Meta":t.command=!0,t.win=!0;break;case"Shift":t.shift=!0;break;case"Tab":t.tab=!0;break}o!==void 0&&Object.keys(o).forEach(l=>{if(l!==u.key)return;const f=o[l];if(typeof f=="function")f(u);else{const{stop:E=!1,prevent:x=!1}=f;E&&u.stopPropagation(),x&&u.preventDefault(),f.handler(u)}})},s=u=>{switch(u.key){case"Control":t.ctrl=!1;break;case"Meta":t.command=!1,t.win=!1;break;case"Shift":t.shift=!1;break;case"Tab":t.tab=!1;break}i!==void 0&&Object.keys(i).forEach(l=>{if(l!==u.key)return;const f=i[l];if(typeof f=="function")f(u);else{const{stop:E=!1,prevent:x=!1}=f;E&&u.stopPropagation(),x&&u.preventDefault(),f.handler(u)}})},r=()=>{k("keydown",document,a),k("keyup",document,s)};return P()?(B(r),y(()=>{b("keydown",document,a),b("keyup",document,s)})):r(),d(t)}export{W as a,G as b,O as c,Y as d,N as e,A as f,z as g,Z as h,J as i,Q as o,K as u};
